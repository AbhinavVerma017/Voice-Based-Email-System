var Voice = require('../voice')
var Env   = require('../envelope')
var Comp  = require('../composite')

var comp = new Comp(function (c, d, ae, ce) {
   return (
      c.harmonic(
        d.sample()    // modululate the freq of c 
                      // by the amplitude of d
        * ce.sample() // and an envelope
        * 8
      ).sample()
      * ae.sample() //modulate the output amplitude
    )
}, [
  new Voice().octave(1),    //carrier oscillator
  new Voice().octave(0.5),  //modulator oscillator
  new Env(0.001, 3, 0, 1),  //amplitude envelope
  new Env(1, 3, 1)          //modulation envelope
])


if(!module.parent)
  require('../util').play(comp)

